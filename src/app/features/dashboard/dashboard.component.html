<!-- src/app/features/dashboard/dashboard.component.html -->

<div class="dashboard-container">
  <header class="dashboard-header">
    <div class="logo-container">
      <img src="assets/images/logo.png" alt="EduNest Logo" class="logo">
      <h1>EduNest</h1>
    </div>

    <div class="user-menu" *ngIf="currentUser">
      <span class="welcome-text">Bienvenue, {{currentUser.firstName}} {{currentUser.lastName}}</span>
      <button class="logout-btn" (click)="logout()">
        <span class="logout-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </span>
        Se déconnecter
      </button>
    </div>
  </header>

  <div class="dashboard-content">
    <div *ngIf="loading" class="loading-spinner">
      <div class="spinner"></div>
      <p>Chargement de votre tableau de bord...</p>
    </div>

    <div *ngIf="!loading && currentUser" class="dashboard-welcome">
      <div class="welcome-card">
        <h2>Bienvenue sur EduNest</h2>
        <p>Votre plateforme pour trouver et comparer les meilleures écoles.</p>

        <div class="user-info">
          <h3>Informations de compte</h3>
          <div class="info-item">
            <span class="label">Nom:</span>
            <span class="value">{{currentUser.firstName}} {{currentUser.lastName}}</span>
          </div>
          <div class="info-item">
            <span class="label">Email:</span>
            <span class="value">{{currentUser.email}}</span>
          </div>
          <div class="info-item">
            <span class="label">Rôle:</span>
            <span class="value">{{currentUser.role}}</span>
          </div>
        </div>
      </div>

      <!-- Contenu spécifique selon le rôle -->
      <div class="role-specific-content" *ngIf="currentUser.role === 'ADMIN'">
        <div class="admin-actions">
          <h3>Administration</h3>
          <div class="action-buttons">
            <button class="action-btn">
              <span class="icon">👥</span>
              Gérer les utilisateurs
            </button>
            <button class="action-btn">
              <span class="icon">🏫</span>
              Gérer les écoles
            </button>
            <button class="action-btn">
              <span class="icon">✅</span>
              Valider les inscriptions
            </button>
            <button class="action-btn">
              <span class="icon">📊</span>
              Statistiques
            </button>
          </div>
        </div>
      </div>

      <div class="role-specific-content" *ngIf="currentUser.role === 'SCHOOL_ADMIN'">
        <div class="school-admin-actions">
          <h3>Gestion de votre école</h3>
          <div class="action-buttons">
            <button class="action-btn">
              <span class="icon">✏️</span>
              Modifier le profil
            </button>
            <button class="action-btn">
              <span class="icon">📢</span>
              Publier des annonces
            </button>
            <button class="action-btn">
              <span class="icon">📞</span>
              Demandes de contact
            </button>
            <button class="action-btn">
              <span class="icon">📊</span>
              Statistiques
            </button>
          </div>
        </div>
      </div>

      <div class="role-specific-content" *ngIf="currentUser.role === 'MEMBER'">
        <div class="member-actions">
          <h3>Trouver votre école idéale</h3>
          <div class="action-buttons">
            <button class="action-btn">
              <span class="icon">🔍</span>
              Rechercher des écoles
            </button>
            <button class="action-btn">
              <span class="icon">⭐</span>
              Écoles favorites
            </button>
            <button class="action-btn">
              <span class="icon">📋</span>
              Comparer des écoles
            </button>
            <button class="action-btn">
              <span class="icon">🏫</span>
              Enregistrer mon école
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="dashboard-footer">
    <p>&copy; 2025 EduNest - Tous droits réservés</p>
  </footer>
</div>
