<div class="card hover:shadow-lg transition-shadow duration-300">
  <div class="relative h-40 bg-gray-200">
    <!-- Image de l'école (placeholder en attendant) -->
    <img
      [src]="imageUrl || 'assets/images/school-placeholder.jpg'"
      [alt]="school.name"
      class="w-full h-full object-cover"
    >
    <!-- Badge de catégorie -->
    <div class="absolute top-3 right-3">
      <span class="badge badge-info">{{ school.categoryName }}</span>
    </div>
  </div>

  <div class="p-4">
    <h3 class="text-lg font-semibold mb-1">{{ school.name }}</h3>

    <div class="flex items-center text-gray-600 text-sm mb-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
      {{ school.city }} {{ school.postalCode ? '(' + school.postalCode + ')' : '' }}
    </div>

    <div class="flex items-center mb-3">
      <app-star-rating
        [rating]="school.averageRating || 0"
        [count]="school.reviewCount || 0"
        [showRating]="true"
        [showCount]="true"
        [readOnly]="true"
      ></app-star-rating>
    </div>

    <div class="flex items-center text-gray-600 text-sm mb-3">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
      </svg>
      {{ school.favoriteCount || 0 }} personnes intéressées
    </div>

    <div class="flex justify-between mt-4">
      <a [routerLink]="['/schools', school.id]" class="btn btn-primary">
        Voir détails
      </a>
      <button (click)="onCompareClick($event)" class="btn btn-outline">
        Comparer
      </button>
    </div>
  </div>
</div>
